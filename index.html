<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>InvitaciÃ³n de prueba de calidad</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background: linear-gradient(135deg, #1f1c2c, #928dab);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
    }
    .card { position: relative; border-radius: 1.5rem; }
    .hidden {
  display: none !important;
}
    .emoji { font-size: 3rem; }
  </style>
</head>
<body>

<div class="card bg-dark text-light p-4" style="max-width:520px;width:100%;">
  <div class="card-body text-center">

    <!-- BLOQUE INICIAL -->
    <div id="intro">

      <div class="emoji mb-2">ğŸ›ï¸âœ¨</div>
      <h2 class="card-title mb-3">InvitaciÃ³n oficial para la Srta.: Paula Garcia</h2>

      <p class="card-text mb-4">
        He adquirido un <strong>sommier nuevo</strong> de altÃ­sima tecnologÃ­a ğŸ˜Œ<br>
        y necesito ayuda profesional para <em>hacer la prueba de control de calidad del pruducto</em>.
      </p>

      <p class="fw-semibold">Â¿AceptÃ¡s la invitaciÃ³n?</p>

      <div class="d-flex justify-content-center gap-3 mb-4" id="buttons">
        <button id="btnSi" class="btn btn-success btn-lg">SÃ­, obvio ğŸ˜</button>
        <button id="btnNo" class="btn btn-outline-danger btn-lg">No ğŸ˜</button>
      </div>

    </div>

    <!-- FORMULARIO -->
    <form id="form" class="hidden text-start">

      <hr class="border-light">
      <h5 class="text-center mb-3">Perfecto, necesitamos algunos detalles ğŸ˜Œ</h5>

      <div class="mb-3">
        <label class="form-label">ğŸ“… Â¿QuÃ© dÃ­a te gustarÃ­a?</label>
        <input type="date" id="fecha" class="form-control" required>
      </div>

      <div class="mb-3">
        <label class="form-label">ğŸ¬ Â¿QuerÃ©s ver una peli?</label>
        <select id="verPeli" class="form-select">
          <option value="no">No</option>
          <option value="si">SÃ­</option>
        </select>
      </div>

      <div class="mb-3 hidden" id="peliNombre">
        <label class="form-label">ğŸ¿ Â¿CuÃ¡l peli?</label>
        <input type="text" id="nombrePeli" class="form-control"
               placeholder="Se aceptan sugerenciasğŸ˜œ">
      </div>

      <div class="mb-3">
        <label class="form-label">Desea tomar algo?ğŸ¥‚</label>
        <select id="bebida" class="form-select">
          <option>Vino</option>
          <option>Agua (mentira)</option>
          <option>Cerveza</option>
          <option>Lo que haya</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">ğŸ›ï¸ Nivel de prueba del sommier</label>
        <select id="nivelSommier" class="form-select">
          <option>Solo sentarse, soy respetuosa</option>
          <option>Acostarse un ratito</option>
          <option>Prueba cientÃ­fica intensiva ğŸ”¥</option>
        </select>
      </div>

      <hr class="border-light">
      <h6 class="text-center mb-3">Confirmaciones importantes ğŸ˜Œ</h6>

      <div class="mb-3">
        <label class="form-label">ğŸ•°ï¸ Hora estimada de llegada</label>
        <select id="horaLlegada" class="form-select">
          <option>Temprano</option>
          <option>Normal (15 min tarde)</option>
          <option>Tarde pero con estilo ğŸ˜</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">ğŸ˜´ Probabilidad de quedarse dormida</label>
        <select id="probDormir" class="form-select">
          <option>Imposible</option>
          <option>Baja</option>
          <option>Media</option>
          <option>Alta</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">ğŸ¿ Nivel de atenciÃ³n a la pelÃ­cula</label>
        <input type="range" id="atencionPeli" class="form-range" min="0" max="100">
        <div class="d-flex justify-content-between small">
          <span>Â¿HabÃ­a una peli?</span>
          <span>Puede haber interrupciones</span>
          <span>Shhh, no hables</span>
        </div>
      </div>

      <hr class="border-light">

      <div class="mb-3">
        <label class="form-label">ğŸ’¬ Mensaje para el anfitriÃ³n</label>
        <textarea id="mensaje" class="form-control" rows="2"
                  placeholder="Deje acÃ¡ su mensaje"></textarea>
      </div>

      <div class="mb-3">
        <label class="form-label">ğŸ“± Uso del celular</label>

        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="celSilencio" checked>
          <label class="form-check-label">Silencio activado</label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="celFotos">
          <label class="form-check-label">Fotos solo si estÃ¡ permitido ğŸ“¸</label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="celTiktok">
          <label class="form-check-label">TikTok permitido (para cumplir con la racha)</label>
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label">ğŸ”® Â¿CÃ³mo imaginÃ¡s que termina la noche?</label>
        <select id="finalNoche" class="form-select">
          <option>Vemos la PelÃ­cula completa</option>
          <option>Dormidos</option>
          <option>Charla larga</option>
          <option>Quien sabe como termina ğŸ˜</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">ğŸ§  Si la peli no gusta:</label>
        <select id="reaccion" class="form-select">
          <option>Te pedirÃ© cambiarla por una mejor</option>
          <option>Busco una excusa para no verla ğŸ˜</option>
          <option>Fingimos demencia y seguimos viendo</option>
        </select>
      </div>

      <div class="mb-3">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="legalSommier" required>
          <label class="form-check-label">
            Acepto que el sommier serÃ¡ EVALUDO y PUNTUADO
          </label>
        </div>
      </div>

      <div class="text-center">
        <button type="submit" class="btn btn-primary btn-lg">
          Confirmar asistencia ğŸ’Œ
        </button>
      </div>

    </form>

    <!-- FINAL -->
    <div id="final" class="hidden mt-4 text-center">
      <h4>Excelente decisiÃ³n ğŸ˜</h4>
      <p>
        El sommier y yo agradecemos tu valentÃ­a ğŸ›ï¸<br>
        PrÃ³ximamente recibirÃ¡s instrucciones por privado ğŸ•µï¸â€â™‚ï¸
      </p>
    </div>

  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
/* =========================
   INIT EMAILJS
========================= */
emailjs.init('pT1jyJz6cw2MSPRRY');

/* =========================
   ELEMENTOS BASE
========================= */
const btnNo     = document.getElementById('btnNo');
const btnSi     = document.getElementById('btnSi');
const form      = document.getElementById('form');
const buttons   = document.getElementById('buttons');
const finalBox  = document.getElementById('final');

const verPeli   = document.getElementById('verPeli');
const peliNombreBox = document.getElementById('peliNombre');

/* =========================
   BOTÃ“N NO (HUYE)
========================= */
function moverNo() {
  const card = document.querySelector('.card');

  const maxX = card.offsetWidth  - btnNo.offsetWidth  - 20;
  const maxY = card.offsetHeight - btnNo.offsetHeight - 20;

  btnNo.style.position = 'absolute';
  btnNo.style.left = Math.random() * maxX + 'px';
  btnNo.style.top  = Math.random() * maxY + 'px';
}

btnNo.addEventListener('mouseenter', moverNo);
btnNo.addEventListener('mousedown', moverNo);
btnNo.addEventListener('touchstart', moverNo);

/* =========================
   BOTÃ“N SÃ
========================= */
btnSi.addEventListener('click', () => {
  btnNo.style.display = 'none'; // ğŸ”¥ desaparece para siempre
  buttons.classList.add('hidden');
  form.classList.remove('hidden');
});

/* =========================
   MOSTRAR INPUT PELI
========================= */
verPeli.addEventListener('change', () => {
  peliNombreBox.classList.toggle('hidden', verPeli.value !== 'si');
});

/* =========================
   ENVÃO FORMULARIO
========================= */
form.addEventListener('submit', e => {
  e.preventDefault();

  /* =========================
     LECTURAS COMPLETAS
  ========================= */

  const horaLlegada = document.getElementById('horaLlegada')?.value || 'â€”';
  const probDormir  = document.getElementById('probDormir')?.value || 'â€”';

  const atencionPeliEl = document.getElementById('atencionPeli');
  const atencionPeli = atencionPeliEl
    ? atencionPeliEl.value + '%'
    : 'â€”';

  const usoCelular = [
    document.getElementById('celSilencio')?.checked ? 'Silencio activado' : null,
    document.getElementById('celFotos')?.checked ? 'Fotos permitidas' : null,
    document.getElementById('celTiktok')?.checked ? 'TikTok permitido' : null
  ].filter(Boolean).join(', ') || 'No especificado';

  /* =========================
     DATA PARA EMAILJS
  ========================= */
  const data = {
    fecha: document.getElementById('fecha')?.value || 'â€”',
    ver_peli: verPeli.value === 'si' ? 'SÃ­' : 'No',
    nombre_peli: document.getElementById('nombrePeli')?.value || 'No indicÃ³',
    bebida: document.getElementById('bebida')?.value || 'â€”',
    nivel_sommier: document.getElementById('nivelSommier')?.value || 'â€”',

    hora_llegada: horaLlegada,
    atencion_peli: atencionPeli,
    dormirse: probDormir,
    celular: usoCelular,

    final_noche: document.getElementById('finalNoche')?.value || 'â€”',
    reaccion: document.getElementById('reaccion')?.value || 'â€”',
    mensaje: document.getElementById('mensaje')?.value || 'â€”',

    legal_sommier: document.getElementById('legalSommier')?.checked
      ? 'Aceptado'
      : 'No aceptado'
  };

  /* =========================
     EMAILJS
  ========================= */
  emailjs
    .send('service_qq1zazd', 'template_ha75wd8', data)
    .then(() => {
  document.getElementById('intro')?.classList.add('hidden');
  form.classList.add('hidden');
  finalBox.classList.remove('hidden');
})
    .catch(err => {
      alert('Error al enviar ğŸ˜¢');
      console.error(err);
    });
});
</script>


</body>
</html>

